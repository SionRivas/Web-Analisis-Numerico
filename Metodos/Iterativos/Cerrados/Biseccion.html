<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../../../css/template styles.css">
    <link rel="stylesheet" href="https://pyscript.net/releases/2024.3.1/core.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css" />


</head>

<body>

    <div>

    </div>



    <span class="text_hero">Método <span class="textGradient1">Bisección</span></span>
    <p>Este metodo se utiliza para encontrar la raiz de una funcion en un intervalo [a,b]</p>

    <div class="content">
        <div id="main" class="main">
            <div class="descripocion">
                <p>Ingrese los datos para calcular la raiz de la funcion</p>


            </div>
            <div class="formulario">
                <div class="valor">
                    <label for="funcion">Funcion:</label>
                    <input type="text" name="funcion" id="funcion" required value="-x + exp(-x)">
                </div>
                <div class="valor">
                    <label for="a">a:</label>
                    <input type="number" name="a" id="a" required value="0.1">
                </div>
                <div class="valor">
                    <label for="b">b:</label>
                    <input type="number" name="b" id="b" required value="0.5">
                </div>
                <div class="valor">
                    <label for="tolerancia">Tolerancia:</label>
                    <input type="number" name="tolerancia" id="tolerancia" required value="0.05">
                </div>
            </div>
            <div class="ui">
                <div class="buttonBig button-grey" py-click="obtener_Datos">
                    <span class="material-symbols-outlined">
                        calculate
                    </span>
                    <span>Calcular</span>
                </div>
                <div class="buttonBig button-green" onclick="addPyScript()">
                    <span class="material-symbols-outlined">
                        get_app
                    </span>
                    <span>Cargar Modelo</span>
                </div>
                <div class="buttonBig button-blue" onclick="guardarPDF('stepbystep')">
                    <span class="material-symbols-outlined">
                        save
                    </span>
                </div>
                <div class="buttonBig button-red" onclick="borrarPasos()">
                    <span class="material-symbols-outlined">
                        delete
                    </span>
                </div>
            </div>
            <div class="ui">
                <div class=" buttonSmall button-yellow">
                    <span class="material-symbols-outlined">
                        emoji_objects
                    </span>
                    <span>Sugerencia</span>
                </div>
                <div class="buttonSmall button-blue">
                    <span class="material-symbols-outlined">
                        assignment
                    </span>
                    <span>Explícamelo</span>
                </div>
                <div class="buttonSmall button-orange">
                    <span class="material-symbols-outlined">
                        live_help
                    </span>
                    <span>¿Cómo Funciona?</span>
                </div>
                <div class="buttonSmall button-red">
                    <span class="material-symbols-outlined">
                        account_tree
                    </span>
                    <span>Diagrama de Flujo</span>
                </div>
            </div>
        </div>
        <div id="stepbystep" class="stepbystep"></div>
        <div id="result" class="result">
            <h2><span class="textGradient5">Resultados</span></h2>
            <div class="contentresult">
                <p>La raiz de la funcion es: </p>
                <p class="showresult" id="raiz"></p>
                <p>El error es: </p>
                <p class="showresult" id="error"></p>
                <p>El numero de iteraciones es: </p>
                <p class="showresult" id="iteraciones"></p>
                <p> tiempo de ejecucion: </p>
                <p class="showresult" id="tiempo"></p>
            </div>
        </div>
    </div>

    <br>
    <a href="../../../index.html">Regresar</a>

    <!--
    <script type="py" src="./Biseccion.py" config="../../../pyscript.toml"></script>
    <script type="module" src="https://pyscript.net/releases/2024.3.1/core.js"></script>
    -->
    <dialog id="loader">
        <style>
            #loader {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.5);
                backdrop-filter: blur(1.5px);
                display: none;
                justify-content: center;
                align-items: center;
                z-index: 1000;
                border: none;
            }

            .loadingTxt {
                color: rgb(88, 88, 88);
                font-size: 1.5rem;
                font-weight: bold;
            }

            .hamster-bg {
                background: rgb(255, 255, 255);
                padding: 2rem;
                border-radius: 1rem;
            }

            .wheel-and-hamster {
                --dur: 1s;
                position: relative;
                width: 12em;
                height: 12em;
                font-size: 14px;
            }

            .wheel,
            .hamster,
            .hamster div,
            .spoke {
                position: absolute;
            }

            .wheel,
            .spoke {
                border-radius: 50%;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
            }

            .wheel {
                background: radial-gradient(100% 100% at center, hsla(0, 0%, 60%, 0) 47.8%, hsl(0, 0%, 60%) 48%);
                z-index: 2;
            }

            .hamster {
                animation: hamster var(--dur) ease-in-out infinite;
                top: 50%;
                left: calc(50% - 3.5em);
                width: 7em;
                height: 3.75em;
                transform: rotate(4deg) translate(-0.8em, 1.85em);
                transform-origin: 50% 0;
                z-index: 1;
            }

            .hamster__head {
                animation: hamsterHead var(--dur) ease-in-out infinite;
                background: hsl(30, 90%, 55%);
                border-radius: 70% 30% 0 100% / 40% 25% 25% 60%;
                box-shadow: 0 -0.25em 0 hsl(30, 90%, 80%) inset,
                    0.75em -1.55em 0 hsl(30, 90%, 90%) inset;
                top: 0;
                left: -2em;
                width: 2.75em;
                height: 2.5em;
                transform-origin: 100% 50%;
            }

            .hamster__ear {
                animation: hamsterEar var(--dur) ease-in-out infinite;
                background: hsl(0, 90%, 85%);
                border-radius: 50%;
                box-shadow: -0.25em 0 hsl(30, 90%, 55%) inset;
                top: -0.25em;
                right: -0.25em;
                width: 0.75em;
                height: 0.75em;
                transform-origin: 50% 75%;
            }

            .hamster__eye {
                animation: hamsterEye var(--dur) linear infinite;
                background-color: hsl(0, 0%, 0%);
                border-radius: 50%;
                top: 0.375em;
                left: 1.25em;
                width: 0.5em;
                height: 0.5em;
            }

            .hamster__nose {
                background: hsl(0, 90%, 75%);
                border-radius: 35% 65% 85% 15% / 70% 50% 50% 30%;
                top: 0.75em;
                left: 0;
                width: 0.2em;
                height: 0.25em;
            }

            .hamster__body {
                animation: hamsterBody var(--dur) ease-in-out infinite;
                background: hsl(30, 90%, 90%);
                border-radius: 50% 30% 50% 30% / 15% 60% 40% 40%;
                box-shadow: 0.1em 0.75em 0 hsl(30, 90%, 55%) inset,
                    0.15em -0.5em 0 hsl(30, 90%, 80%) inset;
                top: 0.25em;
                left: 2em;
                width: 4.5em;
                height: 3em;
                transform-origin: 17% 50%;
                transform-style: preserve-3d;
            }

            .hamster__limb--fr,
            .hamster__limb--fl {
                clip-path: polygon(0 0, 100% 0, 70% 80%, 60% 100%, 0% 100%, 40% 80%);
                top: 2em;
                left: 0.5em;
                width: 1em;
                height: 1.5em;
                transform-origin: 50% 0;
            }

            .hamster__limb--fr {
                animation: hamsterFRLimb var(--dur) linear infinite;
                background: linear-gradient(hsl(30, 90%, 80%) 80%, hsl(0, 90%, 75%) 80%);
                transform: rotate(15deg) translateZ(-1px);
            }

            .hamster__limb--fl {
                animation: hamsterFLLimb var(--dur) linear infinite;
                background: linear-gradient(hsl(30, 90%, 90%) 80%, hsl(0, 90%, 85%) 80%);
                transform: rotate(15deg);
            }

            .hamster__limb--br,
            .hamster__limb--bl {
                border-radius: 0.75em 0.75em 0 0;
                clip-path: polygon(0 0, 100% 0, 100% 30%, 70% 90%, 70% 100%, 30% 100%, 40% 90%, 0% 30%);
                top: 1em;
                left: 2.8em;
                width: 1.5em;
                height: 2.5em;
                transform-origin: 50% 30%;
            }

            .hamster__limb--br {
                animation: hamsterBRLimb var(--dur) linear infinite;
                background: linear-gradient(hsl(30, 90%, 80%) 90%, hsl(0, 90%, 75%) 90%);
                transform: rotate(-25deg) translateZ(-1px);
            }

            .hamster__limb--bl {
                animation: hamsterBLLimb var(--dur) linear infinite;
                background: linear-gradient(hsl(30, 90%, 90%) 90%, hsl(0, 90%, 85%) 90%);
                transform: rotate(-25deg);
            }

            .hamster__tail {
                animation: hamsterTail var(--dur) linear infinite;
                background: hsl(0, 90%, 85%);
                border-radius: 0.25em 50% 50% 0.25em;
                box-shadow: 0 -0.2em 0 hsl(0, 90%, 75%) inset;
                top: 1.5em;
                right: -0.5em;
                width: 1em;
                height: 0.5em;
                transform: rotate(30deg) translateZ(-1px);
                transform-origin: 0.25em 0.25em;
            }

            .spoke {
                animation: spoke var(--dur) linear infinite;
                background: radial-gradient(100% 100% at center, hsl(0, 0%, 60%) 4.8%, hsla(0, 0%, 60%, 0) 5%),
                    linear-gradient(hsla(0, 0%, 55%, 0) 46.9%, hsl(0, 0%, 65%) 47% 52.9%, hsla(0, 0%, 65%, 0) 53%) 50% 50% / 99% 99% no-repeat;
            }

            /* Animations */
            @keyframes hamster {

                from,
                to {
                    transform: rotate(4deg) translate(-0.8em, 1.85em);
                }

                50% {
                    transform: rotate(0) translate(-0.8em, 1.85em);
                }
            }

            @keyframes hamsterHead {

                from,
                25%,
                50%,
                75%,
                to {
                    transform: rotate(0);
                }

                12.5%,
                37.5%,
                62.5%,
                87.5% {
                    transform: rotate(8deg);
                }
            }

            @keyframes hamsterEye {

                from,
                90%,
                to {
                    transform: scaleY(1);
                }

                95% {
                    transform: scaleY(0);
                }
            }

            @keyframes hamsterEar {

                from,
                25%,
                50%,
                75%,
                to {
                    transform: rotate(0);
                }

                12.5%,
                37.5%,
                62.5%,
                87.5% {
                    transform: rotate(12deg);
                }
            }

            @keyframes hamsterBody {

                from,
                25%,
                50%,
                75%,
                to {
                    transform: rotate(0);
                }

                12.5%,
                37.5%,
                62.5%,
                87.5% {
                    transform: rotate(-2deg);
                }
            }

            @keyframes hamsterFRLimb {

                from,
                25%,
                50%,
                75%,
                to {
                    transform: rotate(50deg) translateZ(-1px);
                }

                12.5%,
                37.5%,
                62.5%,
                87.5% {
                    transform: rotate(-30deg) translateZ(-1px);
                }
            }

            @keyframes hamsterFLLimb {

                from,
                25%,
                50%,
                75%,
                to {
                    transform: rotate(-30deg);
                }

                12.5%,
                37.5%,
                62.5%,
                87.5% {
                    transform: rotate(50deg);
                }
            }

            @keyframes hamsterBRLimb {

                from,
                25%,
                50%,
                75%,
                to {
                    transform: rotate(-60deg) translateZ(-1px);
                }

                12.5%,
                37.5%,
                62.5%,
                87.5% {
                    transform: rotate(20deg) translateZ(-1px);
                }
            }

            @keyframes hamsterBLLimb {

                from,
                25%,
                50%,
                75%,
                to {
                    transform: rotate(20deg);
                }

                12.5%,
                37.5%,
                62.5%,
                87.5% {
                    transform: rotate(-60deg);
                }
            }

            @keyframes hamsterTail {

                from,
                25%,
                50%,
                75%,
                to {
                    transform: rotate(30deg) translateZ(-1px);
                }

                12.5%,
                37.5%,
                62.5%,
                87.5% {
                    transform: rotate(10deg) translateZ(-1px);
                }
            }

            @keyframes spoke {
                from {
                    transform: rotate(0);
                }

                to {
                    transform: rotate(-1turn);
                }
            }
        </style>
        <div class="hamster-bg">
            <div aria-label="Orange and tan hamster running in a metal wheel" role="img" class="wheel-and-hamster">
                <div class="wheel"></div>
                <div class="hamster">
                    <div class="hamster__body">
                        <div class="hamster__head">
                            <div class="hamster__ear"></div>
                            <div class="hamster__eye"></div>
                            <div class="hamster__nose"></div>
                        </div>
                        <div class="hamster__limb hamster__limb--fr"></div>
                        <div class="hamster__limb hamster__limb--fl"></div>
                        <div class="hamster__limb hamster__limb--br"></div>
                        <div class="hamster__limb hamster__limb--bl"></div>
                        <div class="hamster__tail"></div>
                    </div>
                </div>
                <div class="spoke"></div>
            </div>
            <center>
                <span class="loadingTxt">Cargando...</span>
            </center>
        </div>
    </dialog>
    <script>
        function addPyScript() {
            document.getElementById('loader').style.display = 'flex';

            const scripbase = document.createElement('script');
            scripbase.type = 'module';
            scripbase.src = 'https://pyscript.net/releases/2024.3.1/core.js';
            document.head.appendChild(scripbase);

            const script = document.createElement('script');
            script.type = 'py';
            script.src = './Biseccion.py';
            script.setAttribute('config', '../../../pyscript.toml');
            document.body.appendChild(script);


        }
    </script>
    <script>
        function guardarPDF(divId) {
            var divContent = document.getElementById(divId);
            var contenidoOriginal = document.body.innerHTML;

            document.body.innerHTML = divContent.innerHTML;
            window.print();
            document.body.innerHTML = contenidoOriginal;
        }

        function borrarPasos() {
            document.getElementById('stepbystep').innerHTML = '';
            document.getElementById('result').style.display = 'none';
        }
    </script>



    <script>
        // init
        var maxx = document.body.clientWidth;
        var maxy = document.body.clientHeight;
        var halfx = maxx / 2;
        var halfy = maxy / 2;
        var canvas = document.createElement("canvas");
        document.body.appendChild(canvas);
        canvas.width = maxx;
        canvas.height = maxy;
        var context = canvas.getContext("2d");
        var dotCount = 200;
        var dots = [];
        // create dots
        for (var i = 0; i < dotCount; i++) {
            dots.push(new dot());
        }

        // dots animation
        function render() {
            function cleanCanvas() {
                context.clearRect(0, 0, maxx, maxy);
            }

            // Call the cleanCanvas function before rendering the dots
            cleanCanvas();
            context.fillStyle = "transparent";
            context.fillRect(0, 0, maxx, maxy);
            for (var i = 0; i < dotCount; i++) {
                dots[i].draw();
                dots[i].move();
            }
            requestAnimationFrame(render);
        }

        // dots class
        // @constructor
        function dot() {

            this.rad_x = 2 * Math.random() * halfx + 1;
            this.rad_y = 1.2 * Math.random() * halfy + 1;
            this.alpha = Math.random() * 360 + 1;
            this.speed = Math.random() * 100 < 50 ? 1 : -1;
            this.speed *= 0.05;
            this.size = Math.random() * 5 + 2;
            this.color = Math.floor(Math.random() * 256);

        }

        // drawing dot
        dot.prototype.draw = function () {

            // calc polar coord to decart
            var dx = halfx + this.rad_x * Math.cos(this.alpha / 180 * Math.PI);
            var dy = halfy + this.rad_y * Math.sin(this.alpha / 180 * Math.PI);
            // set color
            context.fillStyle = "rgb(104, 164, 255," + Math.floor(Math.random() * 256) + ")";
            // draw dot
            context.fillRect(dx, dy, this.size, this.size);

        };

        // calc new position in polar coord
        dot.prototype.move = function () {

            this.alpha += this.speed;
            // change color
            if (Math.random() * 100 < 50) {
                this.color += 1;
            } else {
                this.color -= 1;
            }

        };

        // start animation
        render();
    </script>
</body>

</html>